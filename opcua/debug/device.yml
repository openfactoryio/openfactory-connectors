# OpenFactory Device Configuration File
# To be used in the Dev Container of this repo
# Deploy virtual sensors like so:
# docker run -d --name virtual-opcua-sensor -p 4840:4840 -e NUM_SENSORS=2 ghcr.io/openfactoryio/virtual-opcua-sensor

devices:

  opcua_sensor1:
    uuid: OPCUA-SENSOR-001

    uns:
      inc: OpenFactory

    connector:
      type: opcua

      server:
        uri: opc.tcp://${CONTAINER_IP}:4840/freeopcuas/server/
        subscription:
          publishing_interval: 10           # ms, for subscription object
          queue_size: 1                     # default per monitored item
          sampling_interval: 0              # ms, 0 = event-driven

      variables:
        temp:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor1/2:Temperature
          tag: Temperature
        hum:
          node_id: ns=2;i=5
          tag: Humidity
        sensor_model: 
          node_id: ns=2;i=3
          tag: SensorModel

      events:
        sensor_events:
          node_id: ns=2;i=2

  opcua_sensor2:
    uuid: OPCUA-SENSOR-002

    uns:
      inc: OpenFactory

    connector:
      type: opcua

      server:
        uri: opc.tcp://${CONTAINER_IP}:4840/freeopcuas/server/
        subscription:
          publishing_interval: 10           # ms, for subscription object
          queue_size: 1                     # default per monitored item
          sampling_interval: 0              # ms, 0 = event-driven

      variables:
        temp:
          node_id: ns=2;i=10
          tag: Temperature
        hum:
          browse_path: 0:Root/0:Objects/2:Sensors/2:TemperatureSensor2/2:Humidity
          tag: Humidity
        sensor_model: 
          node_id: ns=2;i=9
          tag: SensorModel

      events:
        sensor_events:
          node_id: ns=2;i=8
